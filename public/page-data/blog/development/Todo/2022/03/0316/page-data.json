{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/blog/development/Todo/2022/03/0316/","result":{"data":{"markdownRemark":{"html":"<hr>\n<p>우리 회사에선 주로 spring을 사용하고 개인적으로는 React를 공부하고 있어 혹시나 나중에 같이 사용할까 싶어 같이 쓸 수 있는지 알아보았다.</p>\n<hr>\n<h1>참고 사이트</h1>\n<ul>\n<li><a href=\"https://7942yongdae.tistory.com/136\">https://7942yongdae.tistory.com/136</a></li>\n</ul>\n<p>위의 사이트를 주로 보면서 배웠다.</p>\n<hr>\n<h1>프로젝트 구성</h1>\n<ul>\n<li>Java: 1.8</li>\n<li>Spring Boot 2.6.4</li>\n<li>Gradle or Maven / Gradle 사용</li>\n<li>React 17.0.2</li>\n<li>IDE - Intellij</li>\n</ul>\n<hr>\n<h1>만드는 과정</h1>\n<ol>\n<li>먼저 Spring Initializr 을 통해 Spring boot Project를 생성해주었다.(intellij 사용하였음)</li>\n<li>MainController.java 를 생성 후 getMapping() 붙여준 후 실행되는지 테스트</li>\n<li>react project 생성 (npx create-react-app) 및 package.json 속성 추가</li>\n<li>build.gradle 속성 추가 및 build 테스트</li>\n</ol>\n<p>대략 4개의 과정으로 나누었다.</p>\n<h2>1. Spring Boot Project 생성</h2>\n<p>나는 Intellij에서 프로젝트 생성 후 해당 프로젝트에서 모듈(Spring initializer) 을 통해 생성해주었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.41104294478527%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACfUlEQVR42n1U2W7bMBDUZwVJrJOkSFEXJVGSXbt2UwRNkF9oXwr0peg/T7Erx40Qpw+D5bEcDnaHDG7CElL3EKrDJi4ZYVL9A60lBItNvEaYlAw6E6U1bjcaQZS1sO4IkXeIsxZx1vBY2xFGj3DmgKLYItUDhPQQakGmBiTCIREtI5UO91GBIBYOtj1AmR5hWvNNREiqM9mjc88w5riC1kcUxYmJ46y+EN5tDIIwq2DcjKrZQZIK1SFTHZQeII3Dw+MJ026HzntGP47ox4kjzZ0f4IYB/acJtmsQ0A1FNUMXPWTuIBTd1iI3nmOmKhS1R9NtUXdbFPUAU3Yw1RuUHWwzIJUlAqE9tvsn9PMLqv4R0h6hzARjx3NNOySiRyp7iNwjTltEabNCmDSce3tvEKj2CZ9ffuP09Avbrz/R7X8gt3ukYknSdsvxLrR8eLmkRXxuxoJmqWFYIKAmUP1sNSJiG1hkynE96aDQE7TdIZEeUdohyrpLJDJyBeFCSEpsOcKUMzcjYtv0yAvPhNJMCJMWm7jh+Iooba8TbkQF3U7c1beeIkLuej5CmZkRZ/2i8ByvEkrVYvSHpdN25CRSSnNSKswWUo9I1YBYkFcdKyRyMvY7QnK/c1+grUd6Vsg+NAMnZXpGqvzyKiS9Jgd6XYn4QGEsGpTNDrrwvMiE0l3Gm7OalMmaVWdf52vCrEXZHlCUSx1pkxTaeuakmzvNZFL7FUGcXWsKPb2kvCxeA6t5O76CV8L7yBJh9W5zreQa6jPWF9OXFtBfdu3wR2qoOTIf+aehUmRq6bbIh0UhsUbnb+t/WPxJpp/x8PwH4+E7iuaE1n+DLPbopme21V96EZyonjlmeQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Spring Initializer\"\n        title=\"Spring Initializer\"\n        src=\"/static/06fba7f15d7cfbf9f491c3247636d1c5/a6d36/springInitializer.png\"\n        srcset=\"/static/06fba7f15d7cfbf9f491c3247636d1c5/222b7/springInitializer.png 163w,\n/static/06fba7f15d7cfbf9f491c3247636d1c5/ff46a/springInitializer.png 325w,\n/static/06fba7f15d7cfbf9f491c3247636d1c5/a6d36/springInitializer.png 650w,\n/static/06fba7f15d7cfbf9f491c3247636d1c5/b2982/springInitializer.png 729w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Spring Initializer을 통해 생성할 때\r\nName, Location, Group, Artifact, Package Name 등은 자유롭게 재량껏 정한다.\r\n자바 버전은 1.8로 해 두었고, Type은 Gradle, Packaging은 Jar을 선택해주었다.</p>\n<h2>2. Controller 생성 및 테스트</h2>\n<p>[Name]Application.java 에 위치한 패키지에 Controller 패키지를 추가 해주고 그 안에 원하는 이름의 Controller.java를 생성해준다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 413px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.80368098159509%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNklEQVR42pWS2W6DMBBF+bNQ26wOjBewQSFkkVJV6kv//+VWQJMmEUnIw8jjWc5cjxywSINsDzIdmCCEXOFDTBZyuvhLLRiaeKxB7oSq+0ZJLVasvCl6BxycG0RikTU/0PUBItZj7B60BByci0JeIkor6GqPUncQicF/jm78lwqvFSR5DVNPUG37UfkjyFw8uE6Ef34qHaw/Qlc9SHco1eZG6TPFwf206ZygZPcgu4N1PeLMgkUKLJ7sqcJZ4wVEcYBsv2CbGqr1UM6BXA3TevB4IXAoGv5muvbjLpXtkRd+tvkNoEIq/bhHWTRg14ClO7xXmK09dLUDmS2U3UKkFqsB9OIbzQOFQiIbqOYIYzaQ0oELgogUhFDgS598mcoKsHwDaj/hUoUqM3CZQZtb+MyMd/YA+AtY5eMJWZUJywAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Package Tree 1\"\n        title=\"Package Tree 1\"\n        src=\"/static/b88c51cf4c09783f800474fa6aa34125/6c1e7/packageTree1.png\"\n        srcset=\"/static/b88c51cf4c09783f800474fa6aa34125/222b7/packageTree1.png 163w,\n/static/b88c51cf4c09783f800474fa6aa34125/ff46a/packageTree1.png 325w,\n/static/b88c51cf4c09783f800474fa6aa34125/6c1e7/packageTree1.png 413w\"\n        sizes=\"(max-width: 413px) 100vw, 413px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>이름은 연결하기 위한 테스트라 간단하게 <code>testConnect</code>로 해주었다.\r\nController이외의 패키지는 회원가입 기능을 테스트하기 위해 추가해둔것들이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 451px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.079754601226995%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABX0lEQVR42qWR2Y7bMAxF/TVaaNlOYmu3YtnNMjNpMf//Nbew3LiDAsE89OGApChcXJIVXRMoR1AeIVIAnSPEwYCxExjvd7gYwEQPLjUEmT3+S5XDGyZ3hdYzFneHjncc5weG+RN9/onT+YHT+QPH8R2HcEPXvRYrgi15KOFQc4uWO5D0kHUAtSNEEwrURVAbCrL+RpDxoYwqryPolkBTRDt5dDEgpYiYRhxaDcYGcLliXojp0qs4GXi94Id/h7ULTssDZrmjX34hf3zCXTLUktAHD9UZiNpAvBBdnRdBVTs05MCFBq8tJFkIsuD7m4FUTxcaTPyNz/y5hkqsDdqKqb8hdjOO9oJjeuCQLmhuE9QlwYSAvGQs14yUJ9SNg4sjzvME5wOa1m0OVzey3Syr2he3pNyfI3jIzkJ0tjisG7uz/ie15aTMfqzq61KZ3CgjiGEb94n8njLy1+J/WR3+BqEuOjOxaYp2AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Hello Controller Code\"\n        title=\"Hello Controller Code\"\n        src=\"/static/b869dd03a3f560639fc70bb593601b2f/38070/helloController.png\"\n        srcset=\"/static/b869dd03a3f560639fc70bb593601b2f/222b7/helloController.png 163w,\n/static/b869dd03a3f560639fc70bb593601b2f/ff46a/helloController.png 325w,\n/static/b869dd03a3f560639fc70bb593601b2f/38070/helloController.png 451w\"\n        sizes=\"(max-width: 451px) 100vw, 451px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>보통 프론트단에 정보를 전달하기위한 컨트롤러에는 <code>@RestController</code>이란 어노테이션을 붙여준다.\r\n<code>/hello</code> url로 접속시 배열 형태를 전달하기 위해 위에 사진의 형태로 만들었다.\r\n다 작성 후 실행해서 <code>/hello</code> url로 접속하면 아래 사진처럼 나타날 것이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 216px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.699386503067483%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAnElEQVR42q2PvQrEIBCEff/3CRZCEgM+Qqq0qSwiREXNj3O4sCFwzRW38LHu4Ois0FqjMU3TwziOYH0YBoI1PrfOc9/3zz0BAPd947ouIueMX6vW+qWJZVkwzzMlaz91XQdjDKSUUEphXVd47wlOw57Wt22jh87zpECilIKUEhn2fUeMESEEwlpLM2/Q0jvnwJ7jOIh3WoE/1Hv1D2d0dHOMBz1fAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"connect Url Snapshot\"\n        title=\"connect Url Snapshot\"\n        src=\"/static/c0d2aa8b5dbe1e4d94dd5910006587a4/7d4ec/connectHelloUrlTest.png\"\n        srcset=\"/static/c0d2aa8b5dbe1e4d94dd5910006587a4/222b7/connectHelloUrlTest.png 163w,\n/static/c0d2aa8b5dbe1e4d94dd5910006587a4/7d4ec/connectHelloUrlTest.png 216w\"\n        sizes=\"(max-width: 216px) 100vw, 216px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2>3. 리액트 프로젝트 생성</h2>\n<p>지금 만든 spring boot 프로젝트에서 터미널을 열고 <code>npx create-react-app frontend</code>을 입력한다.\r\ntypescript을 적용하고 싶으면 위 명령어 끝 부분에 <code>--typescript</code> 을 추가하면 된다. ( frontend 라는 이름 말고 다른 이름도 무관하다. )</p>\n<h3>3.1 Package.json 수정</h3>\n<p>frontend 디렉토리 안의 package.json으로 들어가서 상단에 (로컬기준) <code>\"proxy\": \"http://localhost:8080\"</code> 을 추가 해준다.\r\n( 뒤의 포트는 spring boot에서 설정되어있는 포트와 같게 적으면 된다. )</p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"json\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">&quot;name&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;frontend&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">&quot;version&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;0.1.0&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">&quot;private&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">true</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">&quot;proxy&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;http://localhost:8080&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<p>지금 이 설정을 하는 이유는 이후에 <code>npm start</code> 명령어를 통해 react 서버를 따로 실행 시켜서 fetch()를 통해\r\nspring boot 서버에서 값을 가져올 예정인데, <code>proxy</code> 설정을 해주지 않으면 가져올 수가 없다고 한다.\r\n기본적으로 다른 도메인에서 값을 가져갈 수 없게 막아져 있는데 <code>proxy</code>란 설정이 그 막아져있는걸 해제해 주는거라고 알고 있다.\r\n자세한 설명은 구글링을...</p>\n<h2>4. build.gradle 수정</h2>\n<p>이부분의 자세한 설명은 아직은 못하겠다. 나는 주로 spring boot를 쓴다면 Maven을 쓰고 있었고, Gradle 관련된걸 이번에 알게 되면서 공부중이다. ( - 변명 - )<br>\n본론으로 들어와 아까 생성한 spring boot project에서 <code>build.gradle</code> 파일에 들어가서 맨 아랫부분으로가서 아래 코드를 그대로 넣어준다.</p>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"groovy\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">def</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> frontendDir </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-10\">$projectDir</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">/frontend&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">sourceSets {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    main {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">        resources {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">            srcDirs </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> [</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-10\">$projectDir</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">/src/main/resources&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">processResources {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    dependsOn </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;copyReactBuildFiles&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">task installReact(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">type</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">Exec</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    workingDir </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-10\">$frontendDir</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    inputs</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">.</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">dir </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-10\">$frontendDir</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    group </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">BasePlugin</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">BUILD_GROUP</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">if</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> (</span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">System</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">.</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">getProperty(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;os.name&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">)</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">.</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">toLowerCase(</span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">Locale</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">ROOT</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">)</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">.</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">contains(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;windows&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">)) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">        commandLine </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;npm.cmd&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;audit&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;fix&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">        commandLine </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;npm.cmd&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;install&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    } </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">else</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">        commandLine </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;npm&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;audit&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;fix&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">        commandLine </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;npm&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;install&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">task buildReact(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">type</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">Exec</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    dependsOn </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;installReact&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    workingDir </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-10\">$frontendDir</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    inputs</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">.</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">dir </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-10\">$frontendDir</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    group </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">BasePlugin</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">BUILD_GROUP</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">if</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> (</span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">System</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">.</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">getProperty(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;os.name&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">)</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">.</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">toLowerCase(</span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">Locale</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">ROOT</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">)</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">.</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">contains(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;windows&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">)) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">        commandLine </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;npm.cmd&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;run-script&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;build&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    } </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">else</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">        commandLine </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;npm&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;run-script&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;build&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">task copyReactBuildFiles(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">type</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">Copy</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    dependsOn </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;buildReact&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    from </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-10\">$frontendDir</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">/build&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    into </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&quot;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-10\">$projectDir</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">/src/main/resources/static&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<p><code>Gradle</code>은 지금 알고있는거로는 <code>Groovy</code>란 언어 기반으로 만들어져 있고, <code>Maven</code>처럼 자동으로 빌드를 도와주는 도구 라고 알고있다.\r\n(<code>Groovy</code>란 JVM에서 실행되는 스크립트 언어 라고 한다.)<br>\n위의 코드를 작성하는 이유로써는 간단하게 <strong>스프링부트 프로젝트와 리액트 프로젝트를 합치기 위함</strong> 라고 알면 될 것 같다.\r\n<code>build.gradle</code> 수정 전 기준으로 각각의 서버에서 테스트를 하는데 한 곳에서 테스트를 하기위함 + 추후에 배포를 위함인걸로 난 이해했다.\r\n위 코드를 실행하게 되면 spring boot 프로젝트 디렉토리 기준으로\r\n<code>src/main/resources/static</code> 이란 디렉토리에 빌드된 리액트 프로젝트의 파일이 추가된다. 그리고 spring boot 프로젝트를 실행하게 되면\r\n리액트 서버를 따로 실행하지 않아도 테스트를 할 수 있게 된다.</p>\n<h3>4.1 build Test</h3>\n<p>스프링 부트 프로젝트를 최상위 디렉터리 기준으로 cmd 창에 <code>./gradlew build</code> 명령어를 입력해보자.\r\n그럼 cmd창에 막 뜨면서 끝날때 쯤 <code>src/main/resources/static</code> 폴더를 확인해보면 빌드된 리액트 프로젝트의 파일들이 들어있을것이다.</p>\n<h1>마치며</h1>\n<p>이제 스프링 부트 프로젝트를 실행하게 되면 자동으로\r\n<code>React Project에서 필요한 module Install 및 build</code> -> <code>스프링 프로젝트의 static 폴더에 추가</code> ->\r\n<code>스프링 부트 프로젝트 실행</code> 대략 이런 프로세스로 실행될것이다. 지금은 큰 흐름만 이해했고 추후에 gradle에 관련된 공부,\r\n왜 이렇게 동작되는지에 대한 공부를 할 예정이다.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .github-light-theme {\n    background-color: #ffffff;\n    color: #000000;\n  }\n  .github-light-theme .grvsc-tiszgT-1 { color: #000000; }\n  .github-light-theme .grvsc-tiszgT-7 { color: #005CC5; }\n  .github-light-theme .grvsc-tiszgT-8 { color: #032F62; }\n  .github-light-theme .grvsc-tiszgT-5 { color: #D73A49; }\n  .github-light-theme .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n  body[data-theme=dark] .grvsc-ps-t4tStz { color: #ffffff; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-1 { color: #FFFFFF; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-3 { color: #66B5F6; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-10 { color: #9DCDF5; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-9 { color: #EB7E81; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n</style>","frontmatter":{"title":"TIL - Spring Boot + React 구성하는 법 (0316)","desc":"서버단은 스프링 부트로, 프론트단은 리액트로","thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA80lEQVR42mOQqj76n5qYgVQNklVHsLJxGghTJA3FMHFpFHwEjCWrQHJHoBjNQJBBMMNEKw7/Fyo7/F+47DCYDcIgtnA5CB/6L1hx8r9w5SmwQSBDIQbjcKFY5ZH/lr1n/7tPvfDfceL5/xY9Z/6bdp3+7zjx3H+7/rP/7Sde/O/aveG/Vcua/6KVx3G7EIbFK4/812k9+d950vn/blMu/DeHG3gebKDNhCv/g3vm/o/omvBfqPLUf+nqw4S9LFZx5L9g2SGwt0HeFSkHBQGED6IFK079F6o4TZyXsUWKNAY+DMZ4IwVhIL7kgRqzRBlIacIGAPiF2MObBWd5AAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/b04ba5474708fa11b1a435d2adf628cc/18b2e/TIL.png","srcSet":"/static/b04ba5474708fa11b1a435d2adf628cc/18b2e/TIL.png 700w","sizes":"700px"},"sources":[{"srcSet":"/static/b04ba5474708fa11b1a435d2adf628cc/377b6/TIL.webp 700w","type":"image/webp","sizes":"700px"}]},"width":700,"height":350}}},"date":"2022-03-16","category":"TIL"}}},"pageContext":{"slug":"/blog/development/Todo/2022/03/0316/"}},"staticQueryHashes":["1318141210","1840460387","48878111"],"slicesMap":{}}